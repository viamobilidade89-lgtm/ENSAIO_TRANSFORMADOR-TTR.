<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Ensaio de Resistência</title>
<style>
body{font-family:Arial;background:#f4f4f4;margin:0}
header{background:#111;color:#fff;padding:14px;text-align:center;font-weight:bold}
section{background:#fff;margin:10px;padding:14px;border-radius:10px}
label{display:block;margin-top:8px}
input{width:100%;padding:8px;margin-top:4px}
button{border:none;border-radius:8px}
.calc{background:#2e7d32;color:#fff;padding:14px;width:100%;font-size:16px;margin-top:10px}
.result-box{background:#eaeaea;margin:10px;padding:12px;border-radius:8px}
</style>
</head>
<body>

<header>Ensaio de Resistência de Enrolamento</header>

<section>
<label>Temperatura medida (°C)</label>
<input id="tm" type="number" step="0.1" placeholder="Ex: 22.6">
</section>

<section>
<h2>Entrada</h2>
<select id="unitIn">
<option value="1e-12">pΩ</option>
<option value="1e-9">nΩ</option>
<option value="1e-6">µΩ</option>
<option value="1e-3">mΩ</option>
<option value="1">Ω</option>
<option value="1e3">kΩ</option>
</select>
<label>H1 - H3</label><input id="e1">
<label>H1 - H2</label><input id="e2">
<label>H2 - H3</label><input id="e3">
</section>

<section>
<h2>Saída</h2>
<select id="unitOut">
<option value="1e-12">pΩ</option>
<option value="1e-9">nΩ</option>
<option value="1e-6">µΩ</option>
<option value="1e-3">mΩ</option>
<option value="1">Ω</option>
<option value="1e3">kΩ</option>
</select>
<label>X0 - X1</label><input id="s1">
<label>X0 - X2</label><input id="s2">
<label>X0 - X3</label><input id="s3">
</section>

<button class="calc" onclick="calcular()">Calcular</button>

<section class="result-box">
<h3>Resultados – Entrada</h3>
<div id="resEntrada"></div>
</section>

<section class="result-box">
<h3>Resultados – Saída</h3>
<div id="resSaida"></div>
</section>

<script>
function calcValor(v, unidade){
  if(v === "" || isNaN(v)) return null;
  const tm = parseFloat(document.getElementById("tm").value);
  if(isNaN(tm)) return null;
  const Ftemp = (235+75)/(235+tm);
  const leitura = parseFloat(v) * unidade;
  return leitura * 1.5 * Ftemp;
}

function calcular(){
  const ui = parseFloat(document.getElementById("unitIn").value);
  const us = parseFloat(document.getElementById("unitOut").value);

  const entrada = [
    ["H1-H3", calcValor(document.getElementById("e1").value, ui)],
    ["H1-H2", calcValor(document.getElementById("e2").value, ui)],
    ["H2-H3", calcValor(document.getElementById("e3").value, ui)]
  ];

  const saida = [
    ["X0-X1", calcValor(document.getElementById("s1").value, us)],
    ["X0-X2", calcValor(document.getElementById("s2").value, us)],
    ["X0-X3", calcValor(document.getElementById("s3").value, us)]
  ];

  document.getElementById("resEntrada").innerHTML = entrada
    .filter(v=>v[1]!=null)
    .map(v=>`${v[0]}: ${v[1].toFixed(6)} Ω`)
    .join("<br>");

  document.getElementById("resSaida").innerHTML = saida
    .filter(v=>v[1]!=null)
    .map(v=>`${v[0]}: ${v[1].toFixed(6)} Ω`)
    .join("<br>");
}
</script>

</body>
</html>
